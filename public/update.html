<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
    <div>
        <br>
        <a href="/">
            <button type="submit " class="w-40 h-16 border mr-10 bg-slate-300 hover:bg-slate-400 float-right" >HOME </button>
            
        </a> 
    <a href="/view">
        <button type="submit " class="w-40 h-16 border mr-10 bg-slate-300 hover:bg-slate-400 float-right" >VIEW TASK </button>
        
    </a> 
    </div>

    <div class="w-8/12 h-5/6 mb-10 mx-auto bg-slate-100 mt-24 p-10">
        
        <p class="text-xl font-semibold text-lime-600">UPDATE TODO </p>
        <br>
            <div>
                <form method="POST" id="updateTaskForm">
                <input type="text" class="w-[70%] h-16 border pl-4 text-orange-800" name="title" id="title" placeholder="ENTER UPDATION">
                <button type="submit " class="w-20 h-16 border ml-10 bg-slate-300 hover:bg-slate-400" > UPDATE </button>
        
                </form>
        
        
                
            </div>

    </div>

    <script>
        async function loadTask() {
            const id = window.location.pathname.split('/').pop();
            try {
                const response = await fetch(`/api/task/${id}`);
                const task = await response.json();
                document.getElementById('title').value = task.title;
                document.getElementById('updateTaskForm').action = `/updatetask/${id}`;
            } catch (error) {
                console.error('Error loading task:', error);
            }
        }

        document.addEventListener('DOMContentLoaded', loadTask);
    </script>

</body>
</html>